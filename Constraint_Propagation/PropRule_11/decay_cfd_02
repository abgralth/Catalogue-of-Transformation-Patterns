% Saved by Prover9-Mace4 Version 0.5, December 2007.

set(ignore_option_dependencies). % GUI handles dependencies

if(Prover9). % Options for Prover9
  assign(max_seconds, 60).
end_if.

if(Mace4).   % Options for Mace4
  assign(max_seconds, 60).
end_if.

formulas(assumptions).

%This folder contains several example of constraint decay. That is, propagated constraint which cannot be reversed due to a lack of 
%proper reverse mapping.

%We start with the decay of a conditional functional dependency Y -> ZT ZT = cond
%Here it's a bit tricky as I think the ZT condition is stricter in this semantic than when we manipulate it in FOL
%I thought it could be possible to project away T and to, somehow, manifacure a Y -> Z Z = cond CFD.
%But, clearly, I was dumb from the get go as the constraint literally states that it can only hold if Z and T saisfy a condition.
%With T out of the picture, it becomes unsalvageable.

%CONSTRAINT A
%Conditional Functional Dependency Y -> ZT Z = cond
all x all y all z all t all x1 all z1 all t1 ((R(x,y,z,t) & R(x1,y,z1,t1) & (z = cond | t = cond)) ->(z=z1 & t=t1)).
%all x all y all z all t all x1 all z1 all t1 ((R(x,y,z,t) & R(x1,y,z1,t1) & t = cond) ->(z=z1 & t=t1)).
exists x exists y exists z exists t (R(x,y,z,t) -> z = cond).
exists x exists y exists z exists t (R(x,y,z,t) -> t = cond).

%MAPPINGS A TO B
all x all y all z (S(x,y,z) <-> exists t (R(x,y,z,t))).

end_of_list.

formulas(goals).

%exists x exists y exists z (S(x,y,z) -> z = cond).
all x all y all z all x1 all z1 ((S(x,y,z) & S(x1,y,z1)) ->z=z1).

end_of_list.

